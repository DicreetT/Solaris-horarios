<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Solaris Â· Control horario</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-container">

    <!-- Pantalla de selecciÃ³n de usuario -->
    <section id="user-select" class="panel active">
      <header class="app-header">
        <h1>Solaris Â· Control horario</h1>
        <p class="subtitle">Elige tu usuario para fichar o gestionar el dÃ­a.</p>
      </header>

      <div class="user-grid">
        <!-- Anabella -->
        <button class="user-card" data-user="anabella">
          <div class="avatar avatar-female-glasses">
            <span>ğŸ‘“</span>
          </div>
          <div class="user-info">
            <h2>Anabella</h2>
            <p>Operativa Â· ProducciÃ³n / logÃ­stica</p>
          </div>
        </button>

        <!-- Fer -->
        <button class="user-card" data-user="fer">
          <div class="avatar avatar-male-young">
            <span>ğŸ™‚</span>
          </div>
          <div class="user-info">
            <h2>Fer</h2>
            <p>Operativo Â· Ventas</p>
          </div>
        </button>

        <!-- Esteban -->
        <button class="user-card" data-user="esteban">
          <div class="avatar avatar-male-laptop">
            <span>ğŸ’»</span>
          </div>
          <div class="user-info">
            <h2>Esteban</h2>
            <p>Operativo Â· Sistemas / soporte</p>
          </div>
        </button>

        <!-- Itzi -->
        <button class="user-card" data-user="itzi">
          <div class="avatar avatar-female-phone">
            <span>ğŸ“±</span>
          </div>
          <div class="user-info">
            <h2>Itzi</h2>
            <p>Operativa Â· AtenciÃ³n / clientes</p>
          </div>
        </button>

        <!-- ELA (admin) -->
        <button class="user-card admin-card" data-user="admin">
          <div class="avatar avatar-admin">
            <span>ğŸ“’</span>
          </div>
          <div class="user-info">
            <h2>ELA (Admin)</h2>
            <p>Resumen mensual Â· ausencias Â· vacaciones</p>
          </div>
        </button>
      </div>
    </section>

    <!-- Panel trabajador -->
    <section id="worker-dashboard" class="panel">
      <header class="top-bar">
        <button id="back-to-users" class="back-btn">â† Volver</button>
        <div class="top-bar-center">
          <div class="top-user">
            <div class="avatar avatar-small" id="worker-avatar"></div>
            <div>
              <h2 id="worker-name"></h2>
              <p id="worker-role" class="small-muted"></p>
            </div>
          </div>
        </div>
        <div class="top-bar-right">
          <span id="current-month-label" class="month-label"></span>
        </div>
      </header>

      <main class="layout">
        <!-- Calendario trabajador -->
        <section class="card calendar-card">
          <div class="card-header">
            <h3>Calendario</h3>
            <div class="month-controls">
              <button id="worker-prev-month" class="icon-btn">â—€</button>
              <button id="worker-today" class="small-btn">Hoy</button>
              <button id="worker-next-month" class="icon-btn">â–¶</button>
            </div>
          </div>
          <div class="calendar-legend">
            <span><span class="dot worked"></span> DÃ­a trabajado</span>
            <span><span class="dot absence"></span> Ausencia</span>
            <span><span class="dot vacation-pending"></span> Vacaciones (pend.)</span>
            <span><span class="dot vacation-approved"></span> Vacaciones (ok)</span>
          </div>
          <div id="worker-calendar" class="calendar-grid"></div>
        </section>

        <!-- Detalle del dÃ­a + acciones -->
        <section class="card detail-card">
          <div class="card-header">
            <h3 id="selected-day-label">Selecciona un dÃ­a</h3>
          </div>

          <div class="day-actions">
            <button id="btn-clock-in" class="primary-btn">Fichar entrada</button>
            <button id="btn-clock-out" class="secondary-btn">Fichar salida</button>
          </div>

          <div class="day-actions">
            <button id="btn-mark-absence" class="outline-btn">Marcar ausencia</button>
            <button id="btn-request-vacation" class="outline-btn pink">
              Solicitar vacaciones
            </button>
          </div>

          <div class="day-summary">
            <h4>Registros del dÃ­a</h4>
            <ul id="day-records-list" class="records-list"></ul>
          </div>
        </section>
      </main>
    </section>

    <!-- Panel ADMIN -->
    <section id="admin-dashboard" class="panel">
      <header class="top-bar">
        <button id="back-to-users-admin" class="back-btn">â† Volver</button>
        <div class="top-bar-center">
          <div class="top-user">
            <div class="avatar avatar-small avatar-admin-small">
              <span>ğŸ“’</span>
            </div>
            <div>
              <h2>ELA Â· Panel administrador</h2>
              <p class="small-muted">Vista general del equipo</p>
            </div>
          </div>
        </div>
        <div class="top-bar-right">
          <span id="admin-month-label" class="month-label"></span>
        </div>
      </header>

      <main class="layout layout-admin">
        <!-- Calendario general -->
        <section class="card calendar-card">
          <div class="card-header">
            <h3>Calendario del equipo</h3>
            <div class="month-controls">
              <button id="admin-prev-month" class="icon-btn">â—€</button>
              <button id="admin-today" class="small-btn">Hoy</button>
              <button id="admin-next-month" class="icon-btn">â–¶</button>
            </div>
          </div>
          <div class="calendar-legend">
            <span><span class="dot worked"></span> DÃ­a trabajado</span>
            <span><span class="dot absence"></span> Ausencia</span>
            <span><span class="dot vacation-pending"></span> Vacaciones (pend.)</span>
            <span><span class="dot vacation-approved"></span> Vacaciones (aprob.)</span>
          </div>
          <div id="admin-calendar" class="calendar-grid"></div>

          <div class="admin-day-info">
            <h4 id="admin-selected-day-label">Haz clic en un dÃ­a para ver detalle</h4>
            <ul id="admin-day-detail" class="records-list small"></ul>
          </div>
        </section>

        <!-- Solicitudes y ausencias -->
        <section class="card side-card">
          <div class="card-header">
            <h3>Solicitudes de vacaciones</h3>
          </div>
          <div id="vacation-requests" class="requests-list empty-state">
            <p class="small-muted">No hay solicitudes pendientes.</p>
          </div>

          <div class="card-header space-top">
            <h3>Ausencias registradas</h3>
          </div>
          <div id="absence-list" class="requests-list empty-state">
            <p class="small-muted">No hay ausencias registradas todavÃ­a.</p>
          </div>

          <div class="card-footer">
            <button id="btn-export-csv" class="primary-btn full-width">
              Descargar reporte en CSV
            </button>
          </div>
        </section>
      </main>
    </section>
  </div>

  <!-- Modal AUSENCIA -->
  <div id="modal-absence" class="modal hidden">
    <div class="modal-content">
      <h3>Registrar ausencia</h3>
      <p class="small-muted">
        Este registro se guarda solo en Solaris como referencia interna.
      </p>
      <label class="field-label">
        Tipo de ausencia
        <select id="absence-type">
          <option value="salud">Salud</option>
          <option value="personal">Motivo personal</option>
          <option value="cita">Cita (mÃ©dica / gestiÃ³n)</option>
          <option value="otro">Otro</option>
        </select>
      </label>
      <label class="field-label">
        Comentario breve
        <textarea id="absence-note" rows="3" placeholder="Ej.: fiebre, revisiÃ³n mÃ©dica, tema familiar..."></textarea>
      </label>
      <div class="modal-actions">
        <button id="absence-cancel" class="outline-btn">Cancelar</button>
        <button id="absence-save" class="primary-btn">Guardar ausencia</button>
      </div>
    </div>
  </div>

  <!-- Modal VACACIONES -->
  <div id="modal-vacation" class="modal hidden">
    <div class="modal-content">
      <h3>Solicitar vacaciones</h3>
      <p class="small-muted">
        Esta solicitud quedarÃ¡ marcada como <strong>pendiente</strong> hasta que ELA la apruebe o rechace.
      </p>
      <p id="vacation-date-label" class="small-muted"></p>
      <label class="field-label">
        Comentario (opcional)
        <textarea id="vacation-note" rows="3" placeholder="Ej.: Vacaciones, viaje, descanso..."></textarea>
      </label>
      <div class="modal-actions">
        <button id="vacation-cancel" class="outline-btn">Cancelar</button>
        <button id="vacation-save" class="primary-btn pink">Enviar solicitud</button>
      </div>
    </div>
  </div>

  <!-- Overlay modales -->
  <div id="modal-overlay" class="modal-overlay hidden"></div>

  <script src="app.js"></script>
</body>
</html>
